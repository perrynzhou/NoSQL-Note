##  redis6.x启动过程.md

- 核心函数主逻辑(server.c)
```
int main() {
    //struct redisServer server和设定配置项的默认值
    initServerConfig();

    //权限系统初始化,设定默认用户访问
    ACLInit();

    // 是否开启sentinel模式
    if (server.sentinel_mode) {
        // 初始化sentinel配置文件
        initSentinelConfig();

        //初始化sentinel集群
        initSentinel();
    }

    if (strstr(argv[0],"redis-check-rdb") != NULL)
        // 通过命令输入命令检查是否检查rbd文件
        redis_check_rdb_main(argc,argv,NULL);
    else if (strstr(argv[0],"redis-check-aof") != NULL)
        // 通过命令输入命令检查是否检查aof文件
        redis_check_aof_main(argc,argv);
    
    //读取redis.conf初始化配置
    loadServerConfig(configfile,options);

    //初始化server服务和基于事件驱动IO事件等
    initServer();

    /初始化bio和io多线程
    InitServerLast();
    
    //从磁盘加载aof或者rbd
    loadDataFromDisk();

    aeMain(server.el);
    aeDeleteEventLoop(server.el);
}
```